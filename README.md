# MAutoModGenerator - Automatic Mod Generator for Hytale

An automated mod generator plugin for Hytale servers that automatically builds mod jar files from configured source directories.

## Overview

MAutoModGenerator is a plugin that automatically generates Hytale mod jar files by collecting files from configured source directories and creating a proper mod package with `manifest.json`. This is useful for packaging custom content, assets, or configurations into distributable mod files.

## Primary Use Case: Asset Mod Patching

**The main purpose of MAutoModGenerator is to simplify the creation of asset mods, especially for patching other mods.**

Since Hytale loads mods in a specific order, mods generated by MAutoModGenerator are always loaded last. This makes it perfect for creating **patch mods** that override or extend files from other mods:

- **Language Files**: Replace or add translations to existing mods
  - Fix translation errors in other mods
  - Add new language translations for mods that haven't been translated yet
  - Customize text and messages to match your server's style
- **Images & Textures**: Override textures, icons, and UI elements
  - Replace textures with custom versions
  - Update UI elements to match your server's theme
  - Fix visual bugs or inconsistencies
- **Interface Files**: Modify UI components and layouts
  - Customize interface elements
  - Adjust layouts and styling
  - Add or modify UI components

**How it works**: Simply place the files you want to override in the `files` directory with the same path structure as the original mod. When the generated mod is loaded, it will replace the files from the original mods.

**Example**: To patch a language file from another mod located at `Server/Languages/pt-BR/somemod.lang`, simply place your custom file at `files/Server/Languages/pt-BR/somemod.lang` in the MAutoModGenerator files directory.

## Features

- **Automatic Mod Building**: Automatically builds mod jar files on plugin initialization
- **Configurable Source Directories**: Supports multiple source directories for collecting files
- **Automatic Manifest Generation**: Generates `manifest.json` based on configuration
- **Command-Based Rebuild**: Rebuild mods on-demand using the `/mautomodgenerator rebuild` command
- **Default Source Directory**: Automatically includes files from `config/com.machina/mautomodgenerator/files` directory

## Installation

1. Place the MAutoModGenerator plugin JAR file in your Hytale server's `mods` or `builtin` directory
2. Ensure you have the `HytaleServer.jar` file in the `lib/` directory
3. Restart the server or reload plugins
4. The plugin will automatically build the mod on first load

## Configuration

All settings are managed through the `config.json5` file in the plugin's data directory.

### Manifest Configuration

```json5
{
    "manifest": {
        "group": "com.machina",
        "name": "mautomodgenerator-pack",
        "version": "1.0.0",
        "author": "Machina",
        "description": "A mod that generates mods automatically"
    }
}
```

**Configuration Options:**
- `manifest.group`: The mod group identifier (must be file-compatible: `^[a-zA-Z0-9_.-]+$`)
- `manifest.name`: The mod name (must be file-compatible: `^[a-zA-Z0-9_.-]+$`)
- `manifest.version`: The mod version (e.g., "1.0.0")
- `manifest.author`: The author name
- `manifest.description`: The mod description

### Source Directories Configuration

```json5
{
    "src": {
        "directories": [
            "/path/to/custom/files",
            "/another/path/to/files"
        ]
    }
}
```

**Configuration Options:**
- `src.directories`: List of directories to collect files from (optional)
  - The plugin automatically includes `config/com.machina/mautomodgenerator/files` by default
  - Additional directories can be specified in this list
  - All files from these directories will be included in the generated mod jar

## Usage

### Automatic Building

The mod is automatically built when:
- The plugin is first loaded
- The server starts with the plugin enabled

The generated mod jar file will be created in the server's root directory with the format: `{group}-{name}.zip`

Example: `com.machina-mautomodgenerator-pack.zip`

### Manual Rebuild

You can manually rebuild the mod at any time using the command:

```
/mautomodgenerator rebuild
```

Or using the alias:

```
/mamg rebuild
```

**Permission**: Requires `mautomodgenerator.command.rebuild.permission`

## How It Works

1. **File Collection**: The plugin scans all configured source directories (including the default `config/com.machina/mautomodgenerator/files`)
2. **Manifest Generation**: Creates a `manifest.json` file based on your configuration
3. **jar Creation**: Packages all collected files along with the manifest into a jar file
4. **Output**: The generated mod jar is saved in the server root directory

### File Structure

The generated mod jar will have the following structure:

```
mod.zip
‚îú‚îÄ‚îÄ manifest.json
‚îú‚îÄ‚îÄ (files from source directories)
‚îî‚îÄ‚îÄ ...
```

## Example Use Cases

- **ü©π Mod Patching** (Primary Use Case): Create patch mods to override files from other mods
  - **Language Patches**: Fix translations, add new languages, or customize text
  - **Texture Patches**: Replace images, icons, and visual assets
  - **UI Patches**: Modify interface elements and layouts
- **Asset Packs**: Package custom textures, models, or sounds into a distributable mod
- **Configuration Mods**: Bundle server configurations or custom game rules
- **Content Packs**: Create mods with custom content that can be easily distributed
- **Development Workflow**: Automatically package mods during development

## Notes

- The generated mod jar file is created in the server's root directory
- File paths in the jar are relative to the source directories
- The plugin validates that group and name are file-compatible (alphanumeric, dots, underscores, hyphens only)
- All files from source directories are included recursively (subdirectories are processed)

## Community

üí¨ **Join our Discord community!**

Get help, share your ideas, and connect with other developers:
- üÜò **Support**: Get help with setup and troubleshooting
- üí° **Suggestions**: Share your ideas and feedback
- ü§ù **Community**: Connect with other Hytale developers

**üëâ [Join Discord Server](https://discord.gg/QAFrzj48EN)**

---

**Developed by Machina Studios** - Professional Hytale Server Solutions
